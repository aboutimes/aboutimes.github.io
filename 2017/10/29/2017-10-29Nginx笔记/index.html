<!doctype html>

<html lang="zh-CN">
<head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="google" content="notranslate">








<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />


















  
  
  
  

  

  

  

  

  

  







<link href="/css/main.css" rel="stylesheet" type="text/css" />

<link href="/css/prism.css" rel="stylesheet" type="text/css" />








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.1" />




<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: false,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: "",
      labels: ""
    }
  };
</script>



  <link rel="canonical" href="aboutimes.com/2017/10/29/2017-10-29Nginx笔记/"/>



  <title>Nginx 笔记 | 舊時光</title>
  














</head>

<body>

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <!-- <div class="headband"></div> -->

    <header id="header" class="header">
      <div class="header-inner">
<div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    
      <div class="site-meta-headline">
        <a href="/">
          <img class="custom-logo-image" src="/images/logo.png"
               alt="舊時光"/>
        </a>
      </div>
    
    <span class="description"></span>
    <!-- 
      <p class="site-subtitle"></p>
     -->
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home" id="menu-home">
          
            <a href="/" rel="section">
              
              回首
            </a>
          
        </li>
      
        
        <li class="menu-item menu-item-archives" id="menu-archives">
          
            <a href="/archives/" rel="section">
              
              流年
            </a>
          
        </li>
      
        
        <li class="menu-item menu-item-tags" id="menu-tags">
          
            <a href="/tags/" rel="section">
              
              时光印记
            </a>
          
        </li>
      
        
        <li class="menu-item menu-item-categories" id="menu-categories">
          
            <a href="/categories/">
              
              分类
              <span class="arrow"></span>
              <ul class="submenu">
              <!-- 分类链接 -->
                
                  <li><a href="/categories/见闻/" class="nav-link">见闻</a></li>
                
                  <li><a href="/categories/笔记/" class="nav-link">笔记</a></li>
                
              </ul>
            </a>
            
          
        </li>
      
      
    </ul>
  

  
</nav>


 
      </div>
      
    </header>

    <main id="main" class="main">
      <div class="main-inner" id="maininner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " ">
    <link itemprop="mainEntityOfPage" href="aboutimes.com/2017/10/29/2017-10-29Nginx笔记/">

    <span hidden itemprop="author">
      <meta itemprop="name" content="Couh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher">
      <meta itemprop="name" content="舊時光">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline"><a class="post-title-link post-title-link-external" itemprop="url">Nginx 笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <svg style="vertical-align: middle;" class="icon" fill='#999' width="1em" height="1em" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                <path d="M744.571429 550.857143l-292.571429 292.571428q-5.714286 5.142857-13.142857 5.142858t-13.142857-5.142858l-164.571429-164.571428q-5.142857-5.714286-5.142857-13.142857t5.142857-12.571429l26.285714-26.285714q5.142857-5.142857 12.571429-5.142857t13.142857 5.142857l125.714286 125.714286 253.714286-253.714286q5.714286-5.142857 13.142857-5.142857t12.571428 5.142857l26.285715 26.285714q5.142857 5.142857 5.142857 12.571429t-5.142857 13.142857zM73.142857 950.857143h804.571429V365.714286H73.142857v585.142857zM292.571429 256V91.428571q0-8-5.142858-13.142857t-13.142857-5.142857h-36.571428q-8 0-13.142857 5.142857t-5.142858 13.142857v164.571429q0 8 5.142858 13.142857t13.142857 5.142857h36.571428q8 0 13.142857-5.142857t5.142858-13.142857z m438.857142 0V91.428571q0-8-5.142857-13.142857t-13.142857-5.142857h-36.571428q-8 0-13.142858 5.142857t-5.142857 13.142857v164.571429q0 8 5.142857 13.142857t13.142858 5.142857h36.571428q8 0 13.142857-5.142857t5.142857-13.142857z m219.428572-36.571429v731.428572q0 29.714286-21.714286 51.428571t-51.428571 21.714286H73.142857q-29.714286 0-51.428571-21.714286t-21.714286-51.428571V219.428571q0-29.714286 21.714286-51.428571t51.428571-21.714286h73.142857v-54.857143q0-37.714286 26.857143-64.571428T237.714286 0h36.571428q37.714286 0 64.571429 26.857143t26.857143 64.571428v54.857143h219.428571v-54.857143q0-37.714286 26.857143-64.571428t64.571429-26.857143h36.571428q37.714286 0 64.571429 26.857143t26.857143 64.571428v54.857143h73.142857q29.714286 0 51.428571 21.714286t21.714286 51.428571z" />
              </svg>
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-29T00:00:00+08:00" style="color:#222;vertical-align: middle;">
                2017-10-29
              </time>
            

            

            
          </span>


          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <!-- <span class="post-meta-item-icon">
                <i class="icon-classify"></i>
              </span> -->

              
                
                
                <svg style="vertical-align: middle;" class="icon" fill='#999' width="1.2em" height="1.2em" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M840.268442 529.277502l0 259.159458c0 28.579919-23.251563 51.831482-51.831482 51.831482L235.56304 840.268442c-28.579919 0-51.831482-23.252587-51.831482-51.831482L183.731558 235.56304c0-28.580942 23.252587-51.831482 51.831482-51.831482l276.43696 0 0-34.555004c-141.105738 0-276.43696 0-276.43696 0-47.709605 0-86.386486 38.674834-86.386486 86.386486l0 552.873919c0 47.709605 38.676881 86.386486 86.386486 86.386486l552.873919 0c47.710628 0 86.386486-38.676881 86.386486-86.386486 0 0 0-123.322723 0-259.159458l-0.343831-0.360204L840.268442 529.277502zM846.646626 237.488512l-354.401433 354.401433-60.607769-60.607769 354.401433-354.401433 60.607769 60.607769ZM379.594411 643.927705 479.007585 605.123934 418.399205 544.515554ZM862.172311 161.827689c-16.868179-16.868179-44.216038-16.868179-61.084217 0l61.084217 61.084217C879.040491 206.043726 879.040491 178.695868 862.172311 161.827689z" /></svg>
                
                
                <span itemprop="about">
                  <a href="/categories/笔记/" itemprop="url" rel="index" style="vertical-align: middle;">
                    <!-- <span itemprop="name">笔记</span> -->
                    笔记
                  </a>
                </span>

                
                
              
            </span>
          
          <span class="post-meta-divider">|</span>
          <svg style="vertical-align: middle;" class="icon" fill='#999' width="1em" height="1em" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
            <path d="M501.434368 0c-141.385728 0-256 114.614272-256 256s114.614272 256 256 256 256-114.614272 256-256S642.818048 0 501.434368 0zM503.228416 460.8c-113.106944 0-204.8-91.693056-204.8-204.8 0-113.108992 91.693056-204.8 204.8-204.8s204.8 91.691008 204.8 204.8C708.028416 369.106944 616.33536 460.8 503.228416 460.8z"  /><path d="M76.818432 950.798336C77.428736 710.965248 272.0256 516.73088 512 516.73088s434.571264 194.236416 435.181568 434.067456l52.789248 0C999.360512 681.811968 781.129728 463.941632 512 463.941632S24.639488 681.811968 24.029184 950.798336L76.818432 950.798336z"  />
          </svg>
          <span style="color:#222;vertical-align: middle;"> Couh</span>
          <!-- 增加作者<span class="fa fa-user-o"> </span> -->
          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="/images/2017-10-29-01.png" alt=""><br>　　前段时间做 Laravel 项目一直用 Apache 做 web 服务，没什么特别原因，一是就因为是系统自带，懒得折腾其他的，二是刚接触编程没多久，并不太了解其他的 web 服务器。近来开始接触到 Nginx 服务器，相对于 Apache 的稳定，Nginx 以性能见长。作为 Web 服务器：Nginx 使用更少的资源，处理请求是异步非阻塞的，支持更多的并发连接；作为反向代理服务器完成负载均衡: Nginx 既可以在内部直接支持 Rails 和 PHP 程序对外进行服务, 也可以支持作为 HTTP 代理服务器对外进行服务。<a id="more"></a></p>
<h2 id="1、Nginx-功能"><a href="#1、Nginx-功能" class="headerlink" title="1、Nginx 功能"></a>1、Nginx 功能</h2><p>Nginx 是一个高性能的 HTTP 和反向代理服务器，也是一个 IMAP / POP3 / SMTP 服务器。</p>
<h3 id="1-1、HTTP-基础功能："><a href="#1-1、HTTP-基础功能：" class="headerlink" title="1.1、HTTP 基础功能："></a>1.1、HTTP 基础功能：</h3><ul>
<li>处理静态文件，索引文件以及自动索引；</li>
<li>反向代理加速(无缓存)，简单的负载均衡和容错；</li>
<li>FastCGI，简单的负载均衡和容错；</li>
<li>模块化的结构。过滤器包括 gzipping, byte ranges, chunked responses, 以及 SSI-filter ，在 SSI 过滤器中，到同一个 proxy 或者 FastCGI 的多个子请求并发处理；</li>
<li>SSL 和 TLS SNI 支持。</li>
</ul>
<h3 id="1-2、IMAP-POP3-代理服务功能："><a href="#1-2、IMAP-POP3-代理服务功能：" class="headerlink" title="1.2、IMAP/POP3 代理服务功能："></a>1.2、IMAP/POP3 代理服务功能：</h3><ul>
<li>使用外部 HTTP 认证服务器重定向用户到 IMAP/POP3 后端；</li>
<li>使用外部 HTTP 认证服务器认证用户后连接重定向到内部的 SMTP 后端；</li>
<li>认证方法：</li>
<li>POP3: POP3 USER/PASS, APOP, AUTH LOGIN PLAIN CRAM-MD5 ；</li>
<li>IMAP: IMAP LOGIN ；</li>
<li>SMTP: AUTH LOGIN PLAIN CRAM-MD5 ；</li>
<li>SSL 支持 ；</li>
<li>在 IMAP 和 POP3 模式下的 STARTTLS 和 STLS 支持。</li>
</ul>
<h3 id="1-3、支持的操作系统："><a href="#1-3、支持的操作系统：" class="headerlink" title="1.3、支持的操作系统："></a>1.3、支持的操作系统：</h3><ul>
<li>FreeBSD 3.x, 4.x, 5.x, 6.x i386; FreeBSD 5.x, 6.x amd64 ；</li>
<li>Linux 2.2, 2.4, 2.6 i386; Linux 2.6 amd64 ；</li>
<li>Solaris 8 i386; Solaris 9 i386 and sun4u; Solaris 10 i386 ；</li>
<li>MacOS X (10.4) PPC。</li>
</ul>
<h3 id="1-4、结构与扩展："><a href="#1-4、结构与扩展：" class="headerlink" title="1.4、结构与扩展："></a>1.4、结构与扩展：</h3><p>一个主进程和多个工作进程。工作进程是单线程的，且不需要特殊授权即可运行；</p>
<ul>
<li>kqueue (FreeBSD 4.1+), epoll (Linux 2.6+), rt signals (Linux 2.2.19+), /dev/poll (Solaris 7 11/99+), select, 以及 poll 支持；</li>
<li>kqueue支持的不同功能包括 EV_CLEAR, EV_DISABLE （临时禁止事件）， NOTE_LOWAT, EV_EOF, 有效数据的数目，错误代码；</li>
<li>sendfile (FreeBSD 3.1+), sendfile (Linux 2.2+), sendfile64 (Linux 2.4.21+), 和 sendfilev (Solaris 8 7/01+) 支持；</li>
<li>输入过滤 (FreeBSD 4.1+) 以及 TCP_DEFER_ACCEPT (Linux 2.4+) 支持；</li>
<li>10,000 非活动的 HTTP keep-alive 连接仅需要 2.5M 内存；</li>
<li>最小化的数据拷贝操作。</li>
</ul>
<h3 id="1-5、其他HTTP功能："><a href="#1-5、其他HTTP功能：" class="headerlink" title="1.5、其他HTTP功能："></a>1.5、其他HTTP功能：</h3><ul>
<li>基于IP 和名称的虚拟主机服务；</li>
<li>Memcached 的 GET 接口；</li>
<li>支持 keep-alive 和管道连接；</li>
<li>灵活简单的配置；</li>
<li>重新配置和在线升级而无须中断客户的工作进程；</li>
<li>可定制的访问日志，日志写入缓存，以及快捷的日志回卷；</li>
<li>4xx-5xx 错误代码重定向；</li>
<li>基于 PCRE 的 rewrite 重写模块；</li>
<li>基于客户端 IP 地址和 HTTP 基本认证的访问控制；</li>
<li>PUT, DELETE, 和 MKCOL 方法；</li>
<li>支持 FLV （Flash 视频）；</li>
<li>带宽限制。</li>
</ul>
<h2 id="2、反向代理"><a href="#2、反向代理" class="headerlink" title="2、反向代理"></a>2、反向代理</h2><p>　　正向代理服务器，只用于代理内部网络对 Internet 的连接请求，客户机必须指定代理服务器,并将本来要直接发送到 Web 服务器上的 http 请求发送到代理服务器中。当一个代理服务器能够代理外部网络上的主机，访问内部网络时，这种代理服务的方式称为反向代理服务。</p>
<h3 id="2-1、正向代理"><a href="#2-1、正向代理" class="headerlink" title="2.1、正向代理"></a>2.1、正向代理</h3><p>　　通常来说，对于人来说可以感知到，但服务器感知不到的服务器，我们叫他正向代理服务器。比如访问 google.com 时我们需要 vpn 翻墙才能访问。<code>vpn</code> 对于<code>客户</code>来说，是可以感知到的（客户连接 vpn），<code>vpn</code> 对于<code>google 服务器</code>来说，是不可感知的(google 只知道有 http 请求过来）。<br><img src="/images/2017-10-29-02.png" alt=""></p>
<h3 id="2-2、反向代理"><a href="#2-2、反向代理" class="headerlink" title="2.2、反向代理"></a>2.2、反向代理</h3><p>　　通常来说，对于人来说不可感知，但对于服务器来说是可以感知的，我们叫他反向代理服务器，通过反向代理实现负载均衡。比如访问 baidu.com 的时候，baidu 有一个代理服务器，通过这个代理服务器，可以做负载均衡，路由到不同的 server。<code>客户</code>感知不到<code>反向代理server</code>，<code>server1 server2 server3</code>则可以感知到<code>反向代理server</code>。<br><img src="/images/2017-10-29-03.png" alt=""></p>
<h2 id="3、PHP-FPM"><a href="#3、PHP-FPM" class="headerlink" title="3、PHP-FPM"></a>3、PHP-FPM</h2><p>PHP-FPM(FastCGI Process Manager：FastCGI进程管理器)是一个PHPFastCGI管理器</p>
<h3 id="3-1、cgi、fast-cgi-协议"><a href="#3-1、cgi、fast-cgi-协议" class="headerlink" title="3.1、cgi、fast-cgi 协议"></a>3.1、cgi、fast-cgi 协议</h3><ul>
<li>cgi：为了解决不同的语言解释器(如 php、python 解释器)与 webserver 的通信，于是出现了 cgi 协议。只要你按照 cgi 协议去编写程序，就能实现语言解释器与 webwerver 的通信。如 php-cgi 程序。有了 cgi 协议，解决了 php 解释器与 webserver 通信的问题，webserver 终于可以处理动态语言了。但是，webserver每收到一个请求，都会去 fork 一个 cgi 进程，请求结束再 kill 掉这个进程。这样有 10000 个请求，就需要 fork、kill php-cgi 进程 10000 次。</li>
<li>fast-cgi：cgi 资源浪费严重，于是出现了 cgi 的改良版本，fast-cgi 。fast-cgi 每次处理完请求后，不会 kill 掉这个进程，而是保留这个进程，使这个进程可以一次处理多个请求。这样每次就不用重新 fork 一个进程了，大大提高了效率。</li>
</ul>
<h3 id="3-2、php-fpm-即-php-Fastcgi-Process-Manager"><a href="#3-2、php-fpm-即-php-Fastcgi-Process-Manager" class="headerlink" title="3.2、php-fpm 即 php-Fastcgi Process Manager"></a>3.2、php-fpm 即 php-Fastcgi Process Manager</h3><ul>
<li>php-fpm 是 FastCGI 的实现，并提供了进程管理的功能。进程包含 master 进程和 worker 进程两种进程。 </li>
<li>master 进程只有一个，负责监听端口，接收来自 Web Server 的请求，</li>
<li>worker 进程则一般有多个(具体数量根据实际需要配置)，每个进程内部都嵌入了一个 PHP 解释器，是 PHP 代码真正执行的地方。</li>
</ul>
<h2 id="4、Nginx-安装与配置"><a href="#4、Nginx-安装与配置" class="headerlink" title="4、Nginx 安装与配置"></a>4、Nginx 安装与配置</h2><h3 id="4-1、nginx-安装"><a href="#4-1、nginx-安装" class="headerlink" title="4.1、nginx 安装"></a>4.1、nginx 安装</h3><p><code>brew install nginx</code></p>
<h3 id="4-2、nginx-配置-nginx-conf"><a href="#4-2、nginx-配置-nginx-conf" class="headerlink" title="4.2、nginx 配置 nginx.conf"></a>4.2、nginx 配置 nginx.conf</h3><p>　　默认位置<code>/usr/local/etc/nginx/nginx.conf</code>，作为初级配置 <code>nginx.conf</code> 不需要更改。配置文件末尾语句<code>include servers/*</code>，包含 <code>servers</code> 文件下的子配置文件，可以对不同的项目建立不同的子配置文件。</p>
<ul>
<li>例如 larave.conf ，访问 <code>http://localhost/</code> 即可访问项目。</li>
</ul>
<pre><code class="line-numbers language-bash">server {
    listen 80;
    server_name localhost;
    root /对应项目目录;
    add_header X-Frame-Options &quot;SAMEORIGIN&quot;;   
    add_header X-XSS-Protection &quot;1; mode=block&quot;; 
    add_header X-Content-Type-Options &quot;nosniff&quot;; 

    index index.html index.htm index.php;

    charset utf-8;

    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location = /favicon.ico { access_log off; log_not_found off; }  
    location = /robots.txt  { access_log off; log_not_found off; }  

    #error_page 404 /index.php;

    location ~ \.php$ {
        fastcgi_split_path_info ^(.+\.php)(/.+)$;
        fastcgi_pass 127.0.0.1:9000;
        fastcgi_index index.php;
        fastcgi_intercept_errors on;
        include fastcgi_params;
        include fastcgi.conf;
    }

    location ~ /\.(?!well-known).* {
        deny all;
    }    

}
</code></pre>
<ul>
<li>再如 phpMyAdmin.conf ，host 文件添加 <code>127.0.0.0 phpmyadmin</code>，访问 <code>http://phpmyadmin/</code> 即可访问项目。</li>
</ul>
<pre><code class="line-numbers language-bash">server {
    listen 80;
    server_name phpmyadmin;
    root /目录路径/phpMyAdmin;
    add_header X-Frame-Options &quot;SAMEORIGIN&quot;;   
    add_header X-XSS-Protection &quot;1; mode=block&quot;; 
    add_header X-Content-Type-Options &quot;nosniff&quot;; 

    index index.php;

    charset utf-8;

    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location = /favicon.ico { access_log off; log_not_found off; }  
    location = /robots.txt  { access_log off; log_not_found off; }  

    #error_page 404 /index.php;

    location ~ \.php$ {
        fastcgi_split_path_info ^(.+\.php)(/.+)$;
        fastcgi_pass 127.0.0.1:9000;
        fastcgi_index index.php;
        fastcgi_intercept_errors on;
        include fastcgi_params;
        include fastcgi.conf;
    }

    location ~ /\.(?!well-known).* {
        deny all;
    }      
}

</code></pre>
<h3 id="4-3、php-fpm-配置-php-fpm-conf"><a href="#4-3、php-fpm-配置-php-fpm-conf" class="headerlink" title="4.3、php-fpm 配置 php-fpm.conf"></a>4.3、php-fpm 配置 php-fpm.conf</h3><ul>
<li>默认位置<code>/private/etc/php-fpm.conf</code>，默认没有配置文件，需要将 <code>php-fpm.conf.</code> 重命名为 <code>php-fpm.conf</code> 。</li>
</ul>
<pre><code class="line-numbers language-bash">;去掉 pid 和 erro 的注释，修改文件位置到 local 目录，避免权限问题。
[global]
; Pid file
; Note: the default prefix is /usr/var
; Default Value: none
 pid = /usr/local/var/run/php-fpm.pid

; Error log file
; If it&#39;s set to &quot;syslog&quot;, log is sent to syslogd instead of being written
; into a local file.
; Note: the default prefix is /usr/var
; Default Value: log/php-fpm.log
 error_log = /usr/local/var/run/php-fpm.log
</code></pre>
<ul>
<li><code>/private/etc/php-fpm.d/www.conf.default</code> 重命名为 <code>www.conf</code></li>
</ul>
<p>　　至此配置完成，访问 <code>http://localhost:8098</code> 即可访问数据库。nginx 的优势是处理静态请求，cpu内存使用率低，可以反向代理隐藏主机 IP，apache 适合处理动态请求，所以现在一般前端用 nginx 作为反向代理抗住压力，apache 作为后端处理动态请求。</p>
<h2 id="5、常用命令"><a href="#5、常用命令" class="headerlink" title="5、常用命令"></a>5、常用命令</h2><pre><code class="line-numbers language-bash">nginx -s stop 
#快速关闭Nginx，可能不保存相关信息，并迅速终止web服务。
nginx -s quit
#平稳关闭Nginx，保存相关信息，有安排的结束web服务。
nginx -s reload
#因改变了Nginx相关配置，需要重新加载配置而重载。
nginx -s reopen
#重新打开日志文件。
nginx -c filename
#为 Nginx 指定一个配置文件，来代替缺省的。
nginx -t
#不运行，而仅仅测试配置文件。nginx 将检查配置文件的语法的正确性，并尝试打开配置文件中所引用到的文件。
nginx -v
#显示 nginx 的版本。
nginx -V
#显示 nginx 的版本，编译器版本和配置参数。
</code></pre>
<h2 id="6、http-反向代理配置"><a href="#6、http-反向代理配置" class="headerlink" title="6、http 反向代理配置"></a>6、http 反向代理配置</h2><pre><code class="line-numbers language-bash">#运行用户
#user somebody;

#启动进程,通常设置成和cpu的数量相等
worker_processes  1;

#全局错误日志
error_log  D:/Tools/nginx-1.10.1/logs/error.log;
error_log  D:/Tools/nginx-1.10.1/logs/notice.log  notice;
error_log  D:/Tools/nginx-1.10.1/logs/info.log  info;

#PID文件，记录当前启动的nginx的进程ID
pid        D:/Tools/nginx-1.10.1/logs/nginx.pid;

#工作模式及连接数上限
events {
    worker_connections 1024;    #单个后台worker process进程的最大并发链接数
}

#设定http服务器，利用它的反向代理功能提供负载均衡支持
http {
    #设定mime类型(邮件支持类型),类型由mime.types文件定义
    include       D:/Tools/nginx-1.10.1/conf/mime.types;
    default_type  application/octet-stream;

    #设定日志
    log_format  main  &#39;[$remote_addr] - [$remote_user] [$time_local] &quot;$request&quot; &#39;
                      &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;
                      &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;;

    access_log    D:/Tools/nginx-1.10.1/logs/access.log main;
    rewrite_log     on;

    #sendfile 指令指定 nginx 是否调用 sendfile 函数（zero copy 方式）来输出文件，对于普通应用，
    #必须设为 on,如果用来进行下载等应用磁盘IO重负载应用，可设置为 off，以平衡磁盘与网络I/O处理速度，降低系统的uptime.
    sendfile        on;
    #tcp_nopush     on;

    #连接超时时间
    keepalive_timeout  120;
    tcp_nodelay        on;

    #gzip压缩开关
    #gzip  on;

    #设定实际的服务器列表
    upstream zp_server1{
        server 127.0.0.1:8089;
    }

    #HTTP服务器
    server {
        #监听80端口，80端口是知名端口号，用于HTTP协议
        listen       80;

        #定义使用www.xx.com访问
        server_name  www.helloworld.com;

        #首页
        index index.html

        #指向webapp的目录
        root D:\01_Workspace\Project\github\zp\SpringNotes\spring-security\spring-shiro\src\main\webapp;

        #编码格式
        charset utf-8;

        #代理配置参数
        proxy_connect_timeout 180;
        proxy_send_timeout 180;
        proxy_read_timeout 180;
        proxy_set_header Host $host;
        proxy_set_header X-Forwarder-For $remote_addr;

        #反向代理的路径（和upstream绑定），location 后面设置映射的路径
        location / {
            proxy_pass http://zp_server1;
        }

        #静态文件，nginx自己处理
        location ~ ^/(images|javascript|js|css|flash|media|static)/ {
            root D:\01_Workspace\Project\github\zp\SpringNotes\spring-security\spring-shiro\src\main\webapp\views;
            #过期30天，静态文件不怎么更新，过期可以设大一点，如果频繁更新，则可以设置得小一点。
            expires 30d;
        }

        #设定查看Nginx状态的地址
        location /NginxStatus {
            stub_status           on;
            access_log            on;
            auth_basic            &quot;NginxStatus&quot;;
            auth_basic_user_file  conf/htpasswd;
        }

        #禁止访问 .htxxx 文件
        location ~ /\.ht {
            deny all;
        }

        #错误处理页面（可选择性配置）
        #error_page   404              /404.html;
        #error_page   500 502 503 504  /50x.html;
        #location = /50x.html {
        #    root   html;
        #}
    }
}
</code></pre>
<h2 id="7、负载均衡配置"><a href="#7、负载均衡配置" class="headerlink" title="7、负载均衡配置"></a>7、负载均衡配置</h2><p>　　假设这样一个应用场景：将应用部署在 192.168.1.11:80、192.168.1.12:80、192.168.1.13:80 三台 linux 环境的服务器上。网站域名叫 <a href="http://www.helloworld.com，公网" target="_blank" rel="noopener">www.helloworld.com，公网</a> IP 为 192.168.1.11。在公网 IP 所在的服务器上部署 nginx，对所有请求做负载均衡处理。</p>
<pre><code class="line-numbers language-bash">http {
     #设定mime类型,类型由mime.type文件定义
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;
    #设定日志格式
    access_log    /var/log/nginx/access.log;

    #设定负载均衡的服务器列表
    upstream load_balance_server {
        #weigth参数表示权值，权值越高被分配到的几率越大
        server 192.168.1.11:80   weight=5;
        server 192.168.1.12:80   weight=1;
        server 192.168.1.13:80   weight=6;
    }

   #HTTP服务器
   server {
        #侦听80端口
        listen       80;

        #定义使用www.xx.com访问
        server_name  www.helloworld.com;

        #对所有请求进行负载均衡请求
        location / {
            root        /root;                 #定义服务器的默认网站根目录位置
            index       index.html index.htm;  #定义首页索引文件的名称
            proxy_pass  http://load_balance_server ;#请求转向load_balance_server 定义的服务器列表

            #以下是一些反向代理的配置(可选择性配置)
            #proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            #后端的Web服务器可以通过X-Forwarded-For获取用户真实IP
            proxy_set_header X-Forwarded-For $remote_addr;
            proxy_connect_timeout 90;          #nginx跟后端服务器连接超时时间(代理连接超时)
            proxy_send_timeout 90;             #后端服务器数据回传时间(代理发送超时)
            proxy_read_timeout 90;             #连接成功后，后端服务器响应时间(代理接收超时)
            proxy_buffer_size 4k;              #设置代理服务器（nginx）保存用户头信息的缓冲区大小
            proxy_buffers 4 32k;               #proxy_buffers缓冲区，网页平均在32k以下的话，这样设置
            proxy_busy_buffers_size 64k;       #高负荷下缓冲大小（proxy_buffers*2）
            proxy_temp_file_write_size 64k;    #设定缓存文件夹大小，大于这个值，将从upstream服务器传

            client_max_body_size 10m;          #允许客户端请求的最大单文件字节数
            client_body_buffer_size 128k;      #缓冲区代理缓冲用户端请求的最大字节数
        }
    }
}
</code></pre>
<h2 id="8、网站有多个-webapp-的配置"><a href="#8、网站有多个-webapp-的配置" class="headerlink" title="8、网站有多个 webapp 的配置"></a>8、网站有多个 webapp 的配置</h2><p>　　举个例子：假如 <code>www.helloworld.com</code> 站点有好几个 webapp，finance（金融）、product（产品）、admin（用户中心）。访问这些应用的方式通过上下文(context)来进行区分:</p>
<ul>
<li><code>www.helloworld.com/finance/</code></li>
<li><code>www.helloworld.com/product/</code></li>
<li><code>www.helloworld.com/admin/</code></li>
</ul>
<p>　　我们知道，http 的默认端口号是 80，如果在一台服务器上同时启动这 3 个 webapp 应用，都用 80 端口，肯定是不成的。所以，这三个应用需要分别绑定不同的端口号。那么，问题来了，用户在实际访问 <code>www.helloworld.com</code> 站点时，访问不同 webapp，总不会还带着对应的端口号去访问吧。所以，你再次需要用到反向代理来做处理。</p>
<pre><code class="line-numbers language-bash">http {
    #此处省略一些基本配置

    upstream product_server{
        server www.helloworld.com:8081;
    }

    upstream admin_server{
        server www.helloworld.com:8082;
    }

    upstream finance_server{
        server www.helloworld.com:8083;
    }

    server {
        #此处省略一些基本配置
        #默认指向product的server
        location / {
            proxy_pass http://product_server;
        }

        location /product/{
            proxy_pass http://product_server;
        }

        location /admin/ {
            proxy_pass http://admin_server;
        }

        location /finance/ {
            proxy_pass http://finance_server;
        }
    }
}
</code></pre>
<h2 id="9、https-反向代理配置"><a href="#9、https-反向代理配置" class="headerlink" title="9、https 反向代理配置"></a>9、https 反向代理配置</h2><ul>
<li>HTTPS 的固定端口号是 443，不同于 HTTP 的 80 端口</li>
<li>SSL 标准需要引入安全证书，所以在 nginx.conf 中你需要指定证书和它对应的 key</li>
</ul>
<pre><code class="line-numbers language-bash">#其他和 http 反向代理基本一样，只是在 Server 部分配置有些不同。
#HTTP服务器
server {
    #监听443端口。443为知名端口号，主要用于HTTPS协议
    listen       443 ssl;

    #定义使用www.xx.com访问
    server_name  www.helloworld.com;

    #ssl证书文件位置(常见证书文件格式为：crt/pem)
    ssl_certificate      cert.pem;
    #ssl证书key位置
    ssl_certificate_key  cert.key;

    #ssl配置参数（选择性配置）
    ssl_session_cache    shared:SSL:1m;
    ssl_session_timeout  5m;
    #数字签名，此处使用MD5
    ssl_ciphers  HIGH:!aNULL:!MD5;
    ssl_prefer_server_ciphers  on;

    location / {
        root   /root;
        index  index.html index.htm;
    }
}
</code></pre>
<h2 id="10、静态站点配置"><a href="#10、静态站点配置" class="headerlink" title="10、静态站点配置"></a>10、静态站点配置</h2><p>　　如果所有的静态资源都放在了 /app/dist 目录下，我们只需要在 nginx.conf 中指定首页以及这个站点的 host 即可，配置如下：</p>
<pre><code class="line-numbers language-bash">worker_processes  1;

events {
    worker_connections  1024;
}

http {
    include       mime.types;
    default_type  application/octet-stream;
    sendfile        on;
    keepalive_timeout  65;

    gzip on;
    gzip_types text/plain application/x-javascript text/css application/xml text/javascript application/javascript image/jpeg image/gif image/png;
    gzip_vary on;

    server {
        listen       80;
        server_name  static.zp.cn;

        location / {
            root /app/dist;
            index index.html;
            #转发任何请求到 index.html
        }
    }
}
</code></pre>
<h2 id="11、搭建文件服务器"><a href="#11、搭建文件服务器" class="headerlink" title="11、搭建文件服务器"></a>11、搭建文件服务器</h2><ul>
<li>将 autoindex 开启可以显示目录，默认不开启。</li>
<li>将 autoindex_exact_size 开启可以显示文件的大小。</li>
<li>将 autoindex_localtime 开启可以显示文件的修改时间。</li>
<li>root 用来设置开放为文件服务的根路径。</li>
<li>charset 设置为 charset utf-8,gbk;，可以避免中文乱码问题（windows 服务器下设置后，依然乱码，本人暂时没有找到解决方法）。</li>
</ul>
<pre><code class="line-numbers language-bash">autoindex on;# 显示目录
autoindex_exact_size on;# 显示文件大小
autoindex_localtime on;# 显示文件时间

server {
    charset      utf-8,gbk; # windows 服务器下设置后，依然乱码，暂时无解
    listen       9050 default_server;
    listen       [::]:9050 default_server;
    server_name  _;
    root         /share/fs;
}
</code></pre>
<h2 id="12、跨域解决方案"><a href="#12、跨域解决方案" class="headerlink" title="12、跨域解决方案"></a>12、跨域解决方案</h2><p>　　web 领域开发中，经常采用前后端分离模式。这种模式下，前端和后端分别是独立的 web 应用程序，例如：后端是 Java 程序，前端是 React 或 Vue 应用。各自独立的 web app 在互相访问时，势必存在跨域问题。解决跨域问题一般有两种思路：</p>
<ul>
<li>CORS 在后端服务器设置 HTTP 响应头，把你需要运行访问的域名加入加入 Access-Control-Allow-Origin 中。</li>
<li>jsonp 把后端根据请求，构造 json 数据，并返回，前端用 jsonp 跨域。</li>
</ul>
<p>　　nginx 根据第一种思路，也提供了一种解决跨域的解决方案。举例：<code>www.helloworld.com</code> 网站是由一个前端 app ，一个后端 app 组成的。前端端口号为 9000， 后端端口号为 8080。前端和后端如果使用 http 进行交互时，请求会被拒绝，因为存在跨域问题。</p>
<ul>
<li>首先，在 enable-cors.conf 文件中设置 cors ：</li>
</ul>
<pre><code class="line-numbers language-bash"># allow origin list
set $ACAO &#39;*&#39;;

# set single origin
if ($http_origin ~* (www.helloworld.com)$) {
  set $ACAO $http_origin;
}

if ($cors = &quot;trueget&quot;) {
    add_header &#39;Access-Control-Allow-Origin&#39; &quot;$http_origin&quot;;
    add_header &#39;Access-Control-Allow-Credentials&#39; &#39;true&#39;;
    add_header &#39;Access-Control-Allow-Methods&#39; &#39;GET, POST, OPTIONS&#39;;
    add_header &#39;Access-Control-Allow-Headers&#39; &#39;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type&#39;;
}

if ($request_method = &#39;OPTIONS&#39;) {
  set $cors &quot;${cors}options&quot;;
}

if ($request_method = &#39;GET&#39;) {
  set $cors &quot;${cors}get&quot;;
}

if ($request_method = &#39;POST&#39;) {
  set $cors &quot;${cors}post&quot;;
}
</code></pre>
<ul>
<li>接下来，在你的服务器中 include enable-cors.conf 来引入跨域配置：</li>
</ul>
<pre><code class="line-numbers language-bash"># ----------------------------------------------------
# 此文件为项目 nginx 配置片段
# 可以直接在 nginx config 中 include（推荐）
# 或者 copy 到现有 nginx 中，自行配置
# www.helloworld.com 域名需配合 dns hosts 进行配置
# 其中，api 开启了 cors，需配合本目录下另一份配置文件
# ----------------------------------------------------
upstream front_server{
  server www.helloworld.com:9000;
}
upstream api_server{
  server www.helloworld.com:8080;
}

server {
  listen       80;
  server_name  www.helloworld.com;

  location ~ ^/api/ {
    include enable-cors.conf;
    proxy_pass http://api_server;
    rewrite &quot;^/api/(.*)$&quot; /$1 break;
  }

  location ~ ^/ {
    proxy_pass http://front_server;
  }
}
</code></pre>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Nginx/" rel="tag" class="icon-tag-backup">
              <svg style="vertical-align: middle;" fill="#999" class="icon" width="1em" height="1em" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
                <path d="M329.142857 256q0-30.281143-21.430857-51.712t-51.712-21.430857-51.712 21.430857-21.430857 51.712 21.430857 51.712 51.712 21.430857 51.712-21.430857 21.430857-51.712zM938.861714 585.142857q0 30.281143-21.138286 51.419429l-280.576 281.161143q-22.308571 21.138286-52.004571 21.138286-30.281143 0-51.419429-21.138286l-408.576-409.161143q-21.723429-21.138286-36.864-57.709714t-15.140571-66.852571l0-237.714286q0-29.696 21.723429-51.419429t51.419429-21.723429l237.714286 0q30.281143 0 66.852571 15.140571t58.294857 36.864l408.576 407.990857q21.138286 22.308571 21.138286 52.004571z" />
              </svg>
             Nginx
           </a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/10/12/2017-10-12RESTfulAPI/" rel="next" title="RESTful API">
                <svg style="transform: translateX(calc(50% - .55em)) translateY(calc(50% - .35em));" class="icon" fill="#222" width="1em" height="1em" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M359.261 495.219q85.098-85.098 341.118-341.118 5.091-5.819 5.091-10.91 0-5.091-5.091-10.183-5.091-5.091-10.183-5.091-5.091 0-10.91 5.091-119.282 118.555-357.119 356.392-5.091 5.091-5.091 10.183 0 5.819 5.091 10.91 0.727 0 1.455 0.727 88.734 89.462 355.665 356.392 5.819 5.091 10.91 5.091 5.091 0 10.183-5.091 5.091-4.364 5.091-10.183 0-5.819-5.091-10.91-113.464-113.464-341.118-341.118-1.455-2.182-1.455-5.091 0-2.909 1.455-5.091z" /></svg>
                 RESTful API
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/12/31/2017-12-31Apace虚拟主机配置/" rel="prev" title="Apace 虚拟主机配置">
                Apace 虚拟主机配置 
                <svg style="transform: translateX(calc(50% - .55em)) translateY(calc(50% - .35em));" class="icon" fill="#222" width="1em" height="1em" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M673.714 495.219q-85.098-85.098-341.118-341.118-5.091-5.819-5.091-10.91 0-5.091 5.091-10.183 5.091-5.091 10.183-5.091 5.091 0 10.91 5.091 119.282 119.282 357.119 357.119 5.091 5.091 5.091 10.91 0 5.091-5.091 10.183-0.727 0.727-1.455 1.455-88.734 88.734-355.665 354.937-5.819 5.091-10.91 5.091-5.091 0-10.183-5.091-5.091-5.091-5.091-10.183 0-5.091 5.091-10.91 113.464-113.464 341.118-341.118 5.091-5.091 0-10.183z" /></svg>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>


          </div>
          
  <div class="comments" id="comments">
    <!-- 评论 -->
    <div id="showtalk">查看评论</div>
    <div id="container"></div>
    <script>
      var showtalk = document.getElementById("showtalk");
      var container = document.getElementById("container");
      var status = true;
      window.onload=function (){
        if (typeof Gitment!='function') {// 如果未缓存，加载 js 和 css
          $("head").append("<link>");
          var css = $("head").children(":last");
          css.attr({
            rel:  "stylesheet",
            type: "text/css",
            href: "/css/gitment.css"
          });
          $.getScript('/js/gitment.js');
        }
      }
      showtalk.onclick=function(){
        if (status == 'true') {
          var gitment = new Gitment({
            id: document.title, 
            owner: 'aboutimes',
            repo: 'theme-hexo',
            oauth: {
              client_id: 'a4658b7937231833073e',
              client_secret: 'ee0e478222be08062f68c03d1f6ca433c05e5209',
            },
          });
          status = false;
          gitment.render('container');
          showtalk.innerHTML = '收起评论';
        }else {
          status = true;
          container.innerHTML = '';
          showtalk.innerHTML = '查看评论';
        }
      };
    </script>
    <!-- 评论 -->
    
  </div>


        </div>
        
          
  

  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>
  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner" id="sidebarinner">
        
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
        </ul>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
              
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、Nginx-功能"><span class="nav-text">1、Nginx 功能</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1、HTTP-基础功能："><span class="nav-text">1.1、HTTP 基础功能：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2、IMAP-POP3-代理服务功能："><span class="nav-text">1.2、IMAP/POP3 代理服务功能：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3、支持的操作系统："><span class="nav-text">1.3、支持的操作系统：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4、结构与扩展："><span class="nav-text">1.4、结构与扩展：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5、其他HTTP功能："><span class="nav-text">1.5、其他HTTP功能：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、反向代理"><span class="nav-text">2、反向代理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1、正向代理"><span class="nav-text">2.1、正向代理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2、反向代理"><span class="nav-text">2.2、反向代理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3、PHP-FPM"><span class="nav-text">3、PHP-FPM</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1、cgi、fast-cgi-协议"><span class="nav-text">3.1、cgi、fast-cgi 协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2、php-fpm-即-php-Fastcgi-Process-Manager"><span class="nav-text">3.2、php-fpm 即 php-Fastcgi Process Manager</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4、Nginx-安装与配置"><span class="nav-text">4、Nginx 安装与配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1、nginx-安装"><span class="nav-text">4.1、nginx 安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2、nginx-配置-nginx-conf"><span class="nav-text">4.2、nginx 配置 nginx.conf</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3、php-fpm-配置-php-fpm-conf"><span class="nav-text">4.3、php-fpm 配置 php-fpm.conf</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5、常用命令"><span class="nav-text">5、常用命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6、http-反向代理配置"><span class="nav-text">6、http 反向代理配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7、负载均衡配置"><span class="nav-text">7、负载均衡配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8、网站有多个-webapp-的配置"><span class="nav-text">8、网站有多个 webapp 的配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9、https-反向代理配置"><span class="nav-text">9、https 反向代理配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10、静态站点配置"><span class="nav-text">10、静态站点配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11、搭建文件服务器"><span class="nav-text">11、搭建文件服务器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12、跨域解决方案"><span class="nav-text">12、跨域解决方案</span></a></li></ol></div>
          </div>
        </section>
      <!--/noindex-->
      
      
    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="me" style="font-weight:lighter;">
  
    
      <span class="links-of-author-item">
        
       </span>
    
      <span class="links-of-author-item">
        
       </span>
    
  
</div>
<ul class="links-of-blogroll-list" style="font-weight:200;">
  
    <li class="links-of-blogroll-item"  style="display: inline-block;">
      <a href="http://isujin.com" title="素錦" target="_blank">素錦</a>
    </li>
  
    <li class="links-of-blogroll-item"  style="display: inline-block;">
      <a href="http://sometime.me" title="寒塘渡月" target="_blank">寒塘渡月</a>
    </li>
  
    <li class="links-of-blogroll-item"  style="display: inline-block;">
      <a href="https://www.inoodle.net" title="伤心凉面" target="_blank">伤心凉面</a>
    </li>
  
    <li class="links-of-blogroll-item"  style="display: inline-block;">
      <a href="http://www.lyh2.com" title="青筑" target="_blank">青筑</a>
    </li>
  
    <li class="links-of-blogroll-item"  style="display: inline-block;">
      <a href="http://mir.no/work" title="MIR." target="_blank">MIR.</a>
    </li>
  
    <li class="links-of-blogroll-item"  style="display: inline-block;">
      <a href="http://modelo.io" title="MODELO" target="_blank">MODELO</a>
    </li>
  
    <li class="links-of-blogroll-item"  style="display: inline-block;">
      <a href="http://scz.617.cn" title="青衣十三楼" target="_blank">青衣十三楼</a>
    </li>
  
    <li class="links-of-blogroll-item"  style="display: inline-block;">
      <a href="http://1416.me" title="1416教室" target="_blank">1416教室</a>
    </li>
  
    <li class="links-of-blogroll-item"  style="display: inline-block;">
      <a href="https://www.fieldevo.com/" title="Fieldevo" target="_blank">Fieldevo</a>
    </li>
  
</ul>
<div class="copyright" style="top:50px;font-weight:lighter;">
  
  &copy;  2012 - 
  <span itemprop="copyrightYear">2020</span>  
  <span class="author" itemprop="copyrightHolder">Couh. All rights reserved</span>
</div>

        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <svg style="vertical-align: middle;" class="icon" width="1em" height="1em" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
          <path d="M504.962 328.269q-102.937 102.937-412.627 412.627-6.159 6.159-13.197 6.159-7.038 0-12.317-6.159-6.159-6.159-6.159-12.317 0-6.159 6.159-13.197 144.287-144.287 431.983-431.983 6.159-6.159 13.197-6.159 6.159 0 12.317 6.159 0.88 0.88 1.76 1.76 107.336 107.336 431.103 430.223 6.159 6.159 6.159 12.317 0 7.038-6.159 13.197-6.159 6.159-13.197 6.159-6.159 0-12.317-6.159-138.129-137.249-414.387-412.627-6.159-6.159-12.317 0z" />
        </svg>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>




















  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/prism/prism.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
